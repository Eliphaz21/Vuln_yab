{% extends 'base.html' %}
{% block content %}
  <h1>Search</h1>
  <form action="{{ url_for('search') }}" method="get" class="search-form">
    <input type="search" name="q" value="{{ query }}" placeholder="Search docsâ€¦" />
    <button type="submit">Search</button>
  </form>

  {% if query and not results %}
    <p>No results for <strong>{{ query }}</strong>.</p>
  {% endif %}

  {% if results %}
  <ul class="results">
    {% for r in results %}
      <li>
        <a href="{{ url_for('view_file', relpath=r.document.relative_path) }}">
          {{ r.document.title or r.document.relative_path }}
        </a>
        <div class="path">{{ r.document.relative_path }}</div>
        <div class="excerpt">{{ r.excerpt }}</div>
      </li>
    {% endfor %}
  </ul>
  {% endif %}
{% endblock %}
